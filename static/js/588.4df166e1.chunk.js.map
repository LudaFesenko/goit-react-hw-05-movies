{"version":3,"file":"static/js/588.4df166e1.chunk.js","mappings":"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","sources":["api/index.js","constants/index.js","components/BackLink/BackLink.styled.js","components/BackLink/BackLink.jsx","components/MovieInfo/MovieInfo.styled.js","components/MovieInfo/MovieInfo.jsx","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'ece71aad9171ec15880a13ae16940cc4';\naxios.defaults.baseURL = 'https://api.themoviedb.org/';\n\nexport async function fetchTrending() {\n  const response = await axios.get('/3/trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  return response.data;\n}\n\nexport async function fetchMoviesBySearchString(searchString, controller) {\n  const response = await axios.get('/3/search/movie', {\n    signal: controller.signal,\n    params: {\n      api_key: API_KEY,\n      query: searchString,\n      page: 1,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieDetails(movieId, controller) {\n  const response = await axios.get(`/3/movie/${movieId}`, {\n    signal: controller.signal,\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await axios.get(`/3/movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await axios.get(`/3/movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response.data;\n}\n","export const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w200';\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 8px;\n  margin-bottom: 16px;\n  color: gray;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n  border-radius: 5px;\n  box-shadow: 1px 1px 1px 0.5px grey;\n\n  :hover {\n    color: orangered;\n  }\n`;\n","import { HiArrowLeft } from 'react-icons/hi';\n\nimport { StyledLink } from './BackLink.styled';\n\nexport const BackLink = ({ to, children }) => (\n  <StyledLink to={to}>\n    <HiArrowLeft size=\"24\" />\n    {children}\n  </StyledLink>\n);\n","import styled from 'styled-components';\n\nexport const MovieBlock = styled.div`\n  display: flex;\n  border-bottom: 1px solid black;\n`;\n\nexport const Title = styled.h2`\n  margin-left: 24px;\n`;\n\nexport const Info = styled.div`\n  display: flex;\n  align-items: baseline;\n  gap: 8px;\n`;\n\nexport const Year = styled.span`\n  color: orangered;\n  font-size: 18px;\n  font-weight: 600;\n`;\n\nexport const Score = styled.p`\n  margin-left: 24px;\n`;\n\nexport const Genres = styled.div`\n  margin-left: 24px;\n`;\n\nexport const OverviewBlock = styled.div`\n  margin-left: 24px;\n`;\n\nexport const Block = styled.div`\n  display: flex;\n  gap: 30px;\n`;\n\nexport const MoviePoster = styled.img`\n  width: 200px;\n\n  height: 300px;\n  object-fit: cover;\n`;\n","import { NavLink } from 'react-router-dom';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  MovieBlock,\n  Title,\n  Info,\n  Year,\n  Score,\n  Genres,\n  OverviewBlock,\n  Block,\n  MoviePoster,\n} from './MovieInfo.styled';\nimport { IMAGE_BASE_URL } from '../../constants';\nimport movieCard from '../../images/movieCard.png';\n\nconst MovieInfo = ({\n  movie: {\n    poster_path,\n    title,\n    original_title,\n    release_date,\n    vote_average,\n    overview,\n    genres,\n  },\n}) => (\n  <div>\n    <MovieBlock>\n      <div>\n        <MoviePoster\n          src={poster_path ? `${IMAGE_BASE_URL}${poster_path}` : movieCard}\n          alt={title}\n        />\n      </div>\n\n      <div>\n        <Info>\n          <Title>{title || original_title}</Title>\n          <Year>{`(${release_date?.slice(0, 4)})`}</Year>\n        </Info>\n        <Score>\n          User score: <span>{Math.round(vote_average * 10)}%</span>\n        </Score>\n        <Genres>\n          <h3>Genres</h3>\n          <p>{genres && genres.map(genre => genre.name).join(' || ')}</p>\n        </Genres>\n        <OverviewBlock>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n        </OverviewBlock>\n      </div>\n    </MovieBlock>\n\n    <div>\n      <h3>Additional information</h3>\n      <Block>\n        <NavLink to=\"cast\">Cast</NavLink>\n        <NavLink to=\"reviews\">Reviews</NavLink>\n      </Block>\n    </div>\n  </div>\n);\n\nMovieInfo.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    title: PropTypes.string.isRequired,\n    original_title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    vote_average: PropTypes.number.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.array.isRequired,\n  }).isRequired,\n};\n\nexport default MovieInfo;\n","import styled from 'styled-components';\n\nexport const ImageWrong = styled.img`\n  width: 50%;\n`;\n\nexport const Wrapper = styled.div`\n  width: 700px;\n  text-align: center;\n  margin: 0 auto;\n`;\n","import { useEffect, useState, Suspense, useRef } from 'react';\nimport { Outlet, useParams, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { Notify } from 'notiflix';\n\nimport { BackLink } from '../../components/BackLink/BackLink';\nimport MovieInfo from '../../components/MovieInfo';\nimport Loader from '../../components/Loader';\nimport { fetchMovieDetails } from '../../api';\nimport wrongPicture from '../../images/wrongPicture.png';\nimport { ImageWrong, Wrapper } from './MovieDetails.styled.js';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  // const backLinkHref = location.state?.from ?? '/';\n  const backLinkRef = useRef(location.state?.from ?? '/');\n\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    const fetchData = async () => {\n      try {\n        const details = await fetchMovieDetails(movieId, abortController);\n        setMovie(details);\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          return;\n        }\n        setError(error);\n\n        const errorMessage = error?.response?.data?.status_message;\n\n        Notify.failure(errorMessage || `Please try again`);\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      <BackLink to={backLinkRef.current}>Go back</BackLink>\n      {error && (\n        <Wrapper>\n          <ImageWrong src={wrongPicture} alt=\"not found\" width={400} />\n          <p>The resource you requested could not be found</p>\n        </Wrapper>\n      )}\n      {movie && <MovieInfo movie={movie} />}\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","fetchTrending","axios","params","api_key","response","data","fetchMoviesBySearchString","searchString","controller","signal","query","page","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews","IMAGE_BASE_URL","StyledLink","styled","Link","BackLink","to","children","size","MovieBlock","Title","Info","Year","Score","Genres","OverviewBlock","Block","MoviePoster","movie","poster_path","title","original_title","release_date","vote_average","overview","genres","src","movieCard","alt","slice","Math","round","map","genre","name","join","ImageWrong","Wrapper","location","useLocation","backLinkRef","useRef","state","from","useState","setMovie","error","setError","useParams","useEffect","abortController","AbortController","fetchData","details","errorMessage","status_message","Notify","abort","current","wrongPicture","width","Suspense","fallback","Loader"],"sourceRoot":""}